---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { locales, defaultLocale, translations } from "../../i18n/translations.js";

export function getStaticPaths() {
  return locales
    .filter((locale) => locale.code !== defaultLocale)
    .map((locale) => ({ params: { lang: locale.code } }));
}

const { lang } = Astro.params;
const t = translations[lang] ?? translations[defaultLocale];
const basePath = `/${lang}`;
---

<BaseLayout title={`Scanium ${t.privacy.title}`} description={t.privacy.description} lang={lang}>
  <Header
    downloadLabel={t.header.download}
    languageLabel={t.header.languageLabel}
    homeHref={`${basePath}/`}
    downloadHref={`${basePath}/#download`}
  />
  <main id="main" class="mx-auto max-w-4xl px-6 pb-24 pt-24">
    <div class="mb-10">
      <p class="text-xs uppercase tracking-[0.3em] text-text-muted">{t.privacy.updated}</p>
      <h1 class="section-title mt-4 text-3xl font-semibold text-white sm:text-4xl">{t.privacy.title}</h1>
      <p class="mt-4 text-text-muted">{t.privacy.description}</p>
    </div>

    <div class="space-y-6 text-sm leading-7 text-text-muted">
      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.intro.title}</h2>
        <p class="mt-3">{t.privacy.intro.text}</p>
        <p class="mt-2">
          {t.privacy.intro.contact.split("contact@scanium.app")[0]}
          <a class="text-scanium-cyan" href="mailto:contact@scanium.app">contact@scanium.app</a>
        </p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.collect.title}</h2>
        <h3 class="mt-4 font-semibold text-white">{t.privacy.collect.cameraTitle}</h3>
        <ul class="mt-2 list-disc space-y-1 pl-5">
          {t.privacy.collect.cameraBullets.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
        <p class="mt-3">{t.privacy.collect.cameraNote}</p>

        <h3 class="mt-4 font-semibold text-white">{t.privacy.collect.userTitle}</h3>
        <p class="mt-2">{t.privacy.collect.userText}</p>

        <h3 class="mt-4 font-semibold text-white">{t.privacy.collect.accountTitle}</h3>
        <p class="mt-2">{t.privacy.collect.accountText}</p>

        <h3 class="mt-4 font-semibold text-white">{t.privacy.collect.autoTitle}</h3>
        <p class="mt-2">{t.privacy.collect.autoText}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.use.title}</h2>
        <ul class="mt-3 list-disc space-y-1 pl-5">
          {t.privacy.use.bullets.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
        <p class="mt-3">{t.privacy.use.note}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.thirdParty.title}</h2>
        <p class="mt-3">{t.privacy.thirdParty.text}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.retention.title}</h2>
        <ul class="mt-3 list-disc space-y-1 pl-5">
          {t.privacy.retention.bullets.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.deletion.title}</h2>
        <p class="mt-3">{t.privacy.deletion.text1}</p>
        <p class="mt-3">
          <a class="text-scanium-cyan" href="/account-deletion.html">{t.privacy.deletion.link}</a>
        </p>
        <p class="mt-3">{t.privacy.deletion.text2}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.security.title}</h2>
        <p class="mt-3">{t.privacy.security.text}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.children.title}</h2>
        <p class="mt-3">{t.privacy.children.text}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.rights.title}</h2>
        <p class="mt-3">{t.privacy.rights.text}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.changes.title}</h2>
        <p class="mt-3">{t.privacy.changes.text}</p>
      </section>

      <section class="rounded-2xl border border-white/10 bg-navy-light/60 p-6">
        <h2 class="text-lg font-semibold text-white">{t.privacy.contact.title}</h2>
        <p class="mt-3">
          {t.privacy.contact.text.split("contact@scanium.app")[0]}
          <a class="text-scanium-cyan" href="mailto:contact@scanium.app">contact@scanium.app</a>
          {t.privacy.contact.text.split("contact@scanium.app")[1] ?? ""}
        </p>
      </section>
    </div>
  </main>
  <Footer
    privacyLabel={t.footer.privacy}
    tosLabel={t.footer.tos}
    copyrightLabel={t.footer.copyright}
    basePath={basePath}
  />
</BaseLayout>
